!function n(e,t,o){function r(u,a){if(!t[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=t[u]={exports:{}};e[u][0].call(s.exports,function(n){var t=e[u][1][n];return r(t?t:n)},s,s.exports,n,e,t,o)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(n){function e(){console.log("window resize"),i.width=window.innerWidth,i.height=window.innerHeight}function t(){a=requestAnimationFrame(t),o()}function o(){u.beginPath();for(var n=c.cells(),e=0;e<n.length;e++){var t=n[e],o=t.x*s,r=(t.x+1)*s,i=t.y*s,a=(t.y+1)*s;t.up||(u.moveTo(o,i),u.lineTo(r,i)),t.down||(u.moveTo(o,a),u.lineTo(r,a)),t.left||(u.moveTo(o,i),u.lineTo(o,a)),t.right||(u.moveTo(r,i),u.lineTo(r,a))}u.stroke()}function r(){i=document.getElementById("game-canvas"),window.addEventListener("resize",e,!1),e(),u=i.getContext("2d"),c.clear(),l.run(),t()}var i,u,a,c=n("./grid"),l=n("./generator");window.game={},window.game.stop=function(){cancelAnimationFrame(a)},window.game.grid=c,window.game.generator=l;var s=30;"interactive"===document.readyState?r():document.addEventListener("DOMContentLoaded",r)},{"./generator":2,"./grid":3}],2:[function(n,e,t){var o=n("./grid");t.hunt=function(){var n=_(o.cells()).filter(function(n){return 0===n.connections().length&&_.any(n.neighbors(),function(n){return n.connections().length>0})}),e=n.sample();if(!e||_.isArray(e)&&0===e.length)return void console.log("No cells found");var t=_.filter(e.neighbors(),function(n){return n.connections().length>0}),r=_.first(t);return!r||_.isArray(r)&&0===r.length||e.makeConnection(r),console.log(e,r),e},t.walk=function(n){var e=n.neighbors(),t=_.sample(_.filter(e,function(n){return 0===n.connections().length}));return void 0!==t&&n.makeConnection(t),t},t.run=function(n){for(void 0===n&&(n=o.pickRandCell());n;)n=t.step(n)},t.step=function(n){return n=t.walk(n),n||(n=t.hunt(n)),n}},{"./grid":3}],3:[function(n,e,t){var o,r=20,i=20;t.clear=function(){t.rows=o=[];for(var n=0;i>n;n++){o[n]=[];for(var e=0;r>e;e++)o[n][e]=t.makeCell(e,n)}},t.cells=function(){for(var n=[],e=0;e<o.length;e++)n=n.concat(o[e]);return n},t.makeCell=function(n,e){return{x:n,y:e,up:!1,down:!1,right:!1,left:!1,neighbors:function(){var t=[];return n>0&&t.push(o[e][n-1]),r>n+1&&t.push(o[e][n+1]),e>0&&t.push(o[e-1][n]),i>e+1&&t.push(o[e+1][n]),t},connections:function(){var t=[];return this.up&&t.push(o[e-1][n]),this.down&&t.push(o[e+1][n]),this.left&&t.push(o[e][n-1]),this.right&&t.push(o[e][n+1]),t},makeConnection:function(t){e-1===t.y?this.up=t.down=!0:e+1===t.y?this.down=t.up=!0:n-1===t.x?this.left=t.right=!0:n+1===t.x?this.right=t.left=!0:(console.warn("Attempted invalid connection"),console.log(this,t),console.trace())}}},t.pickRandCell=function(){var n=Math.floor(Math.random()*r),e=Math.floor(Math.random()*i);return o[e][n]}},{}]},{},[1]);