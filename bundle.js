!function n(e,t,r){function o(l,a){if(!t[l]){if(!e[l]){var u="function"==typeof require&&require;if(!a&&u)return u(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[l]={exports:{}};e[l][0].call(f.exports,function(n){var t=e[l][1][n];return o(t?t:n)},f,f.exports,n,e,t,r)}return t[l].exports}for(var i="function"==typeof require&&require,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(n){function e(){console.log("window resize"),i.width=window.innerWidth,i.height=window.innerHeight}function t(){a=requestAnimationFrame(t),r()}function r(){l.clearRect(0,0,i.width,i.height),l.beginPath();for(var n=u.cells(),e=0;e<n.length;e++){var t=n[e],r=t.x*f,o=(t.x+1)*f,a=t.y*f,c=(t.y+1)*f;t.up||(l.moveTo(r,a),l.lineTo(o,a)),t.down||(l.moveTo(r,c),l.lineTo(o,c)),t.left||(l.moveTo(r,a),l.lineTo(r,c)),t.right||(l.moveTo(o,a),l.lineTo(o,c))}l.stroke()}function o(){i=document.getElementById("game-canvas"),window.addEventListener("resize",e,!1),e(),l=i.getContext("2d"),u.clear(),u.makeChunk(0,0),c.run(),t()}var i,l,a,u=n("./grid"),c=n("./generator");window.game={},window.game.stop=function(){cancelAnimationFrame(a)},window.game.grid=u,window.game.generator=c;var f=30;"interactive"===document.readyState?o():document.addEventListener("DOMContentLoaded",o)},{"./generator":2,"./grid":3}],2:[function(n,e,t){var r=n("./grid");t.hunt=function(){var n=_(r.cells()).filter(function(n){return 0===n.connections().length&&_.any(n.neighbors(),function(n){return n.connections().length>0})}),e=n.sample();if(!e||_.isArray(e)&&0===e.length)return void console.log("No cells found");var t=_.filter(e.neighbors(),function(n){return n.connections().length>0}),o=_.first(t);return!o||_.isArray(o)&&0===o.length||e.makeConnection(o),e},t.walk=function(n){var e=n.neighbors(),t=_.sample(_.filter(e,function(n){return 0===n.connections().length}));return void 0!==t&&n.makeConnection(t),t},t.run=function(n){for(void 0===n&&(n=r.pickRandCell());n;)n=t.step(n)},t.step=function(n){return n=t.walk(n),n||(n=t.hunt(n)),n}},{"./grid":3}],3:[function(n,e,t){var r,o=16;t.clear=function(){t.regions=r=[],r[0]=[],r[1]=[],r[2]=[],r[3]=[]},t.makeChunk=function(n,e){for(var i=[],l=0;o>l;l++){i[l]=[];for(var a=0;o>a;a++)i[l][a]=t.makeCell(16*n+a,16*e+l)}var u=0;0>n&&u++,0>e&&(u+=2);var c=0>n?Math.abs(n+1):n,f=0>e?Math.abs(e+1):e;r[u][f]||(r[u][f]=[]),r[u][f][c]=i},t.getCellAt=function(n,e){var t=n%o,i=e%o,l=Math.floor(n/o),a=Math.floor(e/o),u=0;0>n&&u++,0>e&&(u+=2);var c=0>l?Math.abs(l+1):l,f=0>a?Math.abs(a+1):a;return r[u][f]&&r[u][f][c]?r[u][f][c][i][t]:null},t.cells=function(){var n,e,t,o,i,l=[];for(e=0;e<r.length;e++)for(t=0;t<r[e].length;t++)for(o=0;o<r[e][t].length;o++)for(n=r[e][t][o],i=0;i<n.length;i++)l=l.concat(n[i]);return l},t.makeCell=function(n,e){var r=[[n-1,e],[n+1,e],[n,e-1],[n,e+1]];return{x:n,y:e,up:!1,down:!1,right:!1,left:!1,neighbors:function(){return r.map(function(n){return t.getCellAt.apply(t,n)}).filter(function(n){return null!==n})},connections:function(){var r=[];return this.up&&r.push(t.getCellAt(n,e-1)),this.down&&r.push(t.getCellAt(n,e+1)),this.left&&r.push(t.getCellAt(n-1,e)),this.right&&r.push(t.getCellAt(n+1,e)),r.filter(function(n){return null!==n})},makeConnection:function(t){e-1===t.y?this.up=t.down=!0:e+1===t.y?this.down=t.up=!0:n-1===t.x?this.left=t.right=!0:n+1===t.x?this.right=t.left=!0:(console.warn("Attempted invalid connection"),console.log(this,t),console.trace())}}},t.pickRandCell=function(){return _.sample(t.cells())}},{}]},{},[1]);